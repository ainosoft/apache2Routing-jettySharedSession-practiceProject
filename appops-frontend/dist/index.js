/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ (() => {

eval("{// All the functions you cut from login.html go here.\n// Make sure to attach them to the window object so the inline onclick handlers can find them.\n\n// Update: Accept userId and redirect with ?userId=...\nwindow.handleSuccessfulRedirect = function (email, name, userId) {\n    console.log(`Authentication successful for ${name} (${email}, id: ${userId}). Redirecting...`);\n    sessionStorage.setItem('userEmail', email);\n    sessionStorage.setItem('userName', name);\n    // Redirect to dashboard with userId in URL\n    window.location.href = 'appops_dashboard.html?userId=' + encodeURIComponent(userId);\n}\n\nasync function fetchUserInfo(accessToken) {\n    const response = await fetch('https://www.googleapis.com/oauth2/v2/userinfo', {\n        headers: { Authorization: `Bearer ${accessToken}` }\n    });\n    if (!response.ok) throw new Error('Failed to fetch user info from Google.');\n    return response.json();\n}\n\nfunction handleGoogleSignIn() {\n    if (typeof google === 'undefined') {\n        alert('Google Identity Services not loaded. Please wait and try again.');\n        return;\n    }\n\n    const client = google.accounts.oauth2.initTokenClient({\n        client_id: '490602105831-b5ptlvb0rm26h3fr70hrmobrui7n1rjk.apps.googleusercontent.com',\n        scope: 'https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile',\n        prompt: '',\n        callback: async (tokenResponse) => {\n            const { access_token } = tokenResponse;\n            if (!access_token) return;\n\n            try {\n                const userInfo = await fetchUserInfo(access_token);\n                const { email, name } = userInfo;\n\n                const authSlim = {\n                    principle: email,\n                    accountType: 'OAUTH',\n                    oAuthProvider: 'GoogleOAuthWeb',\n                    validator: access_token,\n                    oAuthToken: access_token,\n                };\n\n                const data = { 0: { value: authSlim } };\n               \n                const url = '/UserService/signInUser';\n\n                const response = await fetch(url, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-Ao-Tenant-Id': '1'\n                    },\n                    body: JSON.stringify(data),\n                });\n\n                if (!response.ok) {\n                    throw new Error(`Backend request failed with status: ${response.status}`);\n                }\n\n                const responseText = await response.text();\n                // TODO: Get userId from backend response (replace 74 with actual userId)\n                if (responseText.trim() === 'true') {\n                    // You must get the userId from your backend response here!\n                    // For now, using 74 as an example:\n                    handleSuccessfulRedirect(email, name, 74);\n                } else {\n                    throw new Error('Backend authentication failed.');\n                }\n            } catch (error) {\n                console.error('Sign-in process failed:', error);\n                alert(`An error occurred during sign-in: ${error.message}`);\n            }\n        },\n    });\n    client.requestAccessToken();\n}\n\nwindow.toggleForms = function () {\n    const signinForm = document.getElementById('signin-form');\n    const signupForm = document.getElementById('signup-form');\n    signinForm.style.display = (signinForm.style.display === 'none') ? 'block' : 'none';\n    signupForm.style.display = (signupForm.style.display === 'none') ? 'block' : 'none';\n}\n\nwindow.handleSignIn = function () { alert('Manual sign-in is not implemented.'); }\nwindow.handleSignUp = function () { alert('Manual sign-up is not implemented.'); }\n\n// Add event listeners after the DOM is fully loaded\ndocument.addEventListener('DOMContentLoaded', () => {\n    // Sign-in form submission\n    const signinFormElement = document.getElementById('signin-form-element');\n    if (signinFormElement) {\n        signinFormElement.addEventListener('submit', (event) => {\n            event.preventDefault();\n            window.handleSignIn();\n        });\n    }\n\n    // Google Sign-In button\n    const googleSignInBtn = document.getElementById('google-signin-btn');\n    if (googleSignInBtn) {\n        googleSignInBtn.addEventListener('click', handleGoogleSignIn);\n    }\n\n    // \"Sign up\" link to toggle forms\n    const signupLink = document.getElementById('signup-link');\n    if (signupLink) {\n        signupLink.addEventListener('click', window.toggleForms);\n    }\n\n    // Sign-up form submission\n    const signupFormElement = document.getElementById('signup-form-element');\n    if (signupFormElement) {\n        signupFormElement.addEventListener('submit', (event) => {\n            event.preventDefault();\n            window.handleSignUp();\n        });\n    }\n\n    // \"Sign in\" link to toggle forms\n    const signinLink = document.getElementById('signin-link');\n    if (signinLink) {\n        signinLink.addEventListener('click', window.toggleForms);\n    }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaURBQWlELE1BQU0sR0FBRyxNQUFNLFFBQVEsT0FBTztBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIseUJBQXlCLFlBQVk7QUFDeEQsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZUFBZTtBQUNuQzs7QUFFQTtBQUNBO0FBQ0Esd0JBQXdCLGNBQWM7O0FBRXRDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLCtCQUErQixLQUFLO0FBQ3BDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGlCQUFpQjs7QUFFakI7QUFDQSwyRUFBMkUsZ0JBQWdCO0FBQzNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0EsMkRBQTJELGNBQWM7QUFDekU7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9DQUFvQztBQUNwQyxvQ0FBb0M7O0FBRXBDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcG9wcy1mcm9udGVuZC8uL3NyYy9pbmRleC5qcz9iNjM1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEFsbCB0aGUgZnVuY3Rpb25zIHlvdSBjdXQgZnJvbSBsb2dpbi5odG1sIGdvIGhlcmUuXG4vLyBNYWtlIHN1cmUgdG8gYXR0YWNoIHRoZW0gdG8gdGhlIHdpbmRvdyBvYmplY3Qgc28gdGhlIGlubGluZSBvbmNsaWNrIGhhbmRsZXJzIGNhbiBmaW5kIHRoZW0uXG5cbi8vIFVwZGF0ZTogQWNjZXB0IHVzZXJJZCBhbmQgcmVkaXJlY3Qgd2l0aCA/dXNlcklkPS4uLlxud2luZG93LmhhbmRsZVN1Y2Nlc3NmdWxSZWRpcmVjdCA9IGZ1bmN0aW9uIChlbWFpbCwgbmFtZSwgdXNlcklkKSB7XG4gICAgY29uc29sZS5sb2coYEF1dGhlbnRpY2F0aW9uIHN1Y2Nlc3NmdWwgZm9yICR7bmFtZX0gKCR7ZW1haWx9LCBpZDogJHt1c2VySWR9KS4gUmVkaXJlY3RpbmcuLi5gKTtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCd1c2VyRW1haWwnLCBlbWFpbCk7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgndXNlck5hbWUnLCBuYW1lKTtcbiAgICAvLyBSZWRpcmVjdCB0byBkYXNoYm9hcmQgd2l0aCB1c2VySWQgaW4gVVJMXG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnYXBwb3BzX2Rhc2hib2FyZC5odG1sP3VzZXJJZD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHVzZXJJZCk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGZldGNoVXNlckluZm8oYWNjZXNzVG9rZW4pIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9vYXV0aDIvdjIvdXNlcmluZm8nLCB7XG4gICAgICAgIGhlYWRlcnM6IHsgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2FjY2Vzc1Rva2VufWAgfVxuICAgIH0pO1xuICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIHVzZXIgaW5mbyBmcm9tIEdvb2dsZS4nKTtcbiAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVHb29nbGVTaWduSW4oKSB7XG4gICAgaWYgKHR5cGVvZiBnb29nbGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGFsZXJ0KCdHb29nbGUgSWRlbnRpdHkgU2VydmljZXMgbm90IGxvYWRlZC4gUGxlYXNlIHdhaXQgYW5kIHRyeSBhZ2Fpbi4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNsaWVudCA9IGdvb2dsZS5hY2NvdW50cy5vYXV0aDIuaW5pdFRva2VuQ2xpZW50KHtcbiAgICAgICAgY2xpZW50X2lkOiAnNDkwNjAyMTA1ODMxLWI1cHRsdmIwcm0yNmgzZnI3MGhybW9icnVpN24xcmprLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tJyxcbiAgICAgICAgc2NvcGU6ICdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL3VzZXJpbmZvLmVtYWlsIGh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvdXNlcmluZm8ucHJvZmlsZScsXG4gICAgICAgIHByb21wdDogJycsXG4gICAgICAgIGNhbGxiYWNrOiBhc3luYyAodG9rZW5SZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBhY2Nlc3NfdG9rZW4gfSA9IHRva2VuUmVzcG9uc2U7XG4gICAgICAgICAgICBpZiAoIWFjY2Vzc190b2tlbikgcmV0dXJuO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJJbmZvID0gYXdhaXQgZmV0Y2hVc2VySW5mbyhhY2Nlc3NfdG9rZW4pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZW1haWwsIG5hbWUgfSA9IHVzZXJJbmZvO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgYXV0aFNsaW0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHByaW5jaXBsZTogZW1haWwsXG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRUeXBlOiAnT0FVVEgnLFxuICAgICAgICAgICAgICAgICAgICBvQXV0aFByb3ZpZGVyOiAnR29vZ2xlT0F1dGhXZWInLFxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGFjY2Vzc190b2tlbixcbiAgICAgICAgICAgICAgICAgICAgb0F1dGhUb2tlbjogYWNjZXNzX3Rva2VuLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0geyAwOiB7IHZhbHVlOiBhdXRoU2xpbSB9IH07XG4gICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSAnL1VzZXJTZXJ2aWNlL3NpZ25JblVzZXInO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAnWC1Bby1UZW5hbnQtSWQnOiAnMSdcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQmFja2VuZCByZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IEdldCB1c2VySWQgZnJvbSBiYWNrZW5kIHJlc3BvbnNlIChyZXBsYWNlIDc0IHdpdGggYWN0dWFsIHVzZXJJZClcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VUZXh0LnRyaW0oKSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFlvdSBtdXN0IGdldCB0aGUgdXNlcklkIGZyb20geW91ciBiYWNrZW5kIHJlc3BvbnNlIGhlcmUhXG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciBub3csIHVzaW5nIDc0IGFzIGFuIGV4YW1wbGU6XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZVN1Y2Nlc3NmdWxSZWRpcmVjdChlbWFpbCwgbmFtZSwgNzQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQmFja2VuZCBhdXRoZW50aWNhdGlvbiBmYWlsZWQuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTaWduLWluIHByb2Nlc3MgZmFpbGVkOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICBhbGVydChgQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIHNpZ24taW46ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICBjbGllbnQucmVxdWVzdEFjY2Vzc1Rva2VuKCk7XG59XG5cbndpbmRvdy50b2dnbGVGb3JtcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBzaWduaW5Gb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NpZ25pbi1mb3JtJyk7XG4gICAgY29uc3Qgc2lnbnVwRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaWdudXAtZm9ybScpO1xuICAgIHNpZ25pbkZvcm0uc3R5bGUuZGlzcGxheSA9IChzaWduaW5Gb3JtLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJykgPyAnYmxvY2snIDogJ25vbmUnO1xuICAgIHNpZ251cEZvcm0uc3R5bGUuZGlzcGxheSA9IChzaWdudXBGb3JtLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJykgPyAnYmxvY2snIDogJ25vbmUnO1xufVxuXG53aW5kb3cuaGFuZGxlU2lnbkluID0gZnVuY3Rpb24gKCkgeyBhbGVydCgnTWFudWFsIHNpZ24taW4gaXMgbm90IGltcGxlbWVudGVkLicpOyB9XG53aW5kb3cuaGFuZGxlU2lnblVwID0gZnVuY3Rpb24gKCkgeyBhbGVydCgnTWFudWFsIHNpZ24tdXAgaXMgbm90IGltcGxlbWVudGVkLicpOyB9XG5cbi8vIEFkZCBldmVudCBsaXN0ZW5lcnMgYWZ0ZXIgdGhlIERPTSBpcyBmdWxseSBsb2FkZWRcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG4gICAgLy8gU2lnbi1pbiBmb3JtIHN1Ym1pc3Npb25cbiAgICBjb25zdCBzaWduaW5Gb3JtRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaWduaW4tZm9ybS1lbGVtZW50Jyk7XG4gICAgaWYgKHNpZ25pbkZvcm1FbGVtZW50KSB7XG4gICAgICAgIHNpZ25pbkZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHdpbmRvdy5oYW5kbGVTaWduSW4oKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gR29vZ2xlIFNpZ24tSW4gYnV0dG9uXG4gICAgY29uc3QgZ29vZ2xlU2lnbkluQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dvb2dsZS1zaWduaW4tYnRuJyk7XG4gICAgaWYgKGdvb2dsZVNpZ25JbkJ0bikge1xuICAgICAgICBnb29nbGVTaWduSW5CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVHb29nbGVTaWduSW4pO1xuICAgIH1cblxuICAgIC8vIFwiU2lnbiB1cFwiIGxpbmsgdG8gdG9nZ2xlIGZvcm1zXG4gICAgY29uc3Qgc2lnbnVwTGluayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaWdudXAtbGluaycpO1xuICAgIGlmIChzaWdudXBMaW5rKSB7XG4gICAgICAgIHNpZ251cExpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB3aW5kb3cudG9nZ2xlRm9ybXMpO1xuICAgIH1cblxuICAgIC8vIFNpZ24tdXAgZm9ybSBzdWJtaXNzaW9uXG4gICAgY29uc3Qgc2lnbnVwRm9ybUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2lnbnVwLWZvcm0tZWxlbWVudCcpO1xuICAgIGlmIChzaWdudXBGb3JtRWxlbWVudCkge1xuICAgICAgICBzaWdudXBGb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB3aW5kb3cuaGFuZGxlU2lnblVwKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFwiU2lnbiBpblwiIGxpbmsgdG8gdG9nZ2xlIGZvcm1zXG4gICAgY29uc3Qgc2lnbmluTGluayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaWduaW4tbGluaycpO1xuICAgIGlmIChzaWduaW5MaW5rKSB7XG4gICAgICAgIHNpZ25pbkxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB3aW5kb3cudG9nZ2xlRm9ybXMpO1xuICAgIH1cbn0pOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/index.js\n\n}");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/index.js"]();
/******/ 	
/******/ })()
;